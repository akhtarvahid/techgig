{"version":3,"sources":["actions/types.js","actions/auth.js","components/home/Home.js","components/common/constants.js","components/login/Login.js","routing/PrivateRoute.js","App.js","reducers/authReducer.js","reducers/index.js","store.js","reportWebVitals.js","index.js"],"names":["LOGIN","LOGOUT","loginUser","item","props","isLoggedIn","username","password","localStorage","setItem","history","push","type","payload","Home","state","photos","isLoading","page","prevY","handleLogout","logoutUser","this","setState","axios","get","then","res","prev","data","entities","y","boundingClientRect","lastPhoto","length","curPage","albumId","getAlbums","observer","IntersectionObserver","observerHandler","bind","root","rootMargin","threshold","observe","loadingRef","loadingStyle","display","className","onClick","map","user","src","url","alt","title","uuidv4","ref","style","Component","connect","removeItem","withRouter","Login","message","handleChange","e","target","value","name","handleSubmit","preventDefault","fields","status","setTimeout","onSubmit","placeholder","onChange","credential","PrivateRoute","component","authed","rest","render","to","pathname","from","location","exact","path","initialState","combineReducers","action","store","createStore","reducer","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ae9357bd.chunk.js","sourcesContent":["export const LOGIN = \"LOGIN\";\r\nexport const LOGOUT = \"LOGOUT\";\r\n","import { LOGIN, LOGOUT } from \"./types\";\r\n\r\nconst loginId = \"foo\";\r\nconst loginPassword = \"bar\"\r\nexport const loginUser = (item, props) => {\r\n  let isLoggedIn = false;\r\n  if(item.username === loginId && item.password === loginPassword) {\r\n    localStorage.setItem('active', true)\r\n    isLoggedIn = true;\r\n    props.history.push('/home')\r\n}\r\n  return {\r\n    type: LOGIN,\r\n    payload: isLoggedIn\r\n  };\r\n};\r\nexport const logoutUser = (history) => {\r\n  localStorage.removeItem('active');\r\n  history.push('/')\r\n  return {\r\n    type: LOGOUT,\r\n    payload: false\r\n  };\r\n};\r\nexport const isLoggedIn = () => {\r\n  return {\r\n    type: 'IS_LOGGED_IN'\r\n  }\r\n}\r\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport axios from \"axios\";\nimport './home.scss';\nimport { v4 as uuidv4 } from 'uuid';\nimport { logoutUser } from \"../../actions/auth\";\nimport {Logout, Loading } from '../common/constants';\n\nclass Home  extends Component {\n  state = {\n    photos: [],\n      isLoading: false,\n      page: 0,\n      prevY: 0\n  }\n  getAlbums(page) {\n    this.setState({ isLoading: true });\n    axios\n    .get(`https://jsonplaceholder.typicode.com/photos?_page=${page}&_limit=10`)\n    .then(res => this.setState(prev=> ({ photos: [...prev.photos, ...res.data], isLoading: false })));\n  }\n  observerHandler(entities) {\n    const { photos, prevY } = this.state;\n    const y = entities[0].boundingClientRect.y;\n    if (prevY > y) {\n      const lastPhoto = photos[photos.length - 1];\n      const curPage = lastPhoto?.albumId;\n      this.getAlbums(curPage);\n      this.setState({ page: curPage });\n    }\n    this.setState({ prevY: y });\n  }\n  componentDidMount() {\n    this.getAlbums(this.state.page);\n    let options = {\n        root: null,\n        rootMargin: \"0px\",\n        threshold: 1.0\n      };\n      \n      this.observer = new IntersectionObserver(\n        this.observerHandler.bind(this),\n        options\n      );\n      this.observer.observe(this.loadingRef);\n  }\n  handleLogout=()=> {\n    this.props.logoutUser(this.props.history);\n  }\n  render() {\n    const loadingStyle = { display: true ? \"block\" : \"none\" };\n    return (\n      <div className=\"main-listing\">   \n       <header className=\"main-listing__heading\">\n        <button onClick={this.handleLogout}>{Logout}</button>\n       </header>\n       <div className=\"main-listing__body\">\n         <div className=\"cards\">\n           {this.state.photos?.map(user => (\n             <div className=\"cards__image\">\n             <img key={uuidv4()} src={user.url} alt={user.title}/>\n             </div>\n           ))}\n         </div>\n         <div \n           className=\"loadmore\"\n           ref={loadingRef => (this.loadingRef = loadingRef)}>\n           <h1 style={loadingStyle}>{Loading}</h1>\n         </div>\n       </div>\n       </div>\n     );\n   }\n}\nexport default connect(null, {logoutUser})(withRouter(Home));\n","export const Logout = 'Logout';\r\nexport const Loading = 'Loading...';","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { loginUser } from \"../../actions/auth\";\r\nimport './login.scss';\r\n\r\nclass Login extends Component {\r\n  state = {\r\n    username: '', \r\n    password:'',\r\n    message: ''\r\n   }\r\n    handleChange=(e)=>{\r\n      const {value, name} = e.target;\r\n      this.setState({\r\n          [name] : value\r\n      })\r\n    }\r\n    handleSubmit=(e)=> {\r\n        e.preventDefault();\r\n        const {username, password} = this.state;\r\n        const fields = { username, password }\r\n        this.props.loginUser(fields, this.props);\r\n       \r\n        const { isLoggedIn } = this.props?.status;\r\n        if(!isLoggedIn) {\r\n           this.setState({\r\n            message: \"Wrong credential\"}, ()=> {\r\n            setTimeout(() => this.setState({message: ''}), 2000);\r\n           });\r\n        }\r\n    }\r\n    render() {\r\n    const { message } = this.state;\r\n    return ( \r\n      <>\r\n      <div className=\"login-form\">\r\n        <div className=\"form-section\">\r\n        {message.length > 0 && <div className=\"info\">{message}</div>}\r\n        <form onSubmit={this.handleSubmit}>\r\n          <div className=\"fields\">\r\n          <input type=\"text\" name=\"username\" placeholder=\"Enter Username: foo\" onChange={this.handleChange}/>\r\n          </div>  \r\n          <div className=\"fields\">\r\n          <input type=\"text\" name=\"password\" placeholder=\"Enter password: bar\" onChange={this.handleChange}/>\r\n          </div>\r\n          <div className=\"fields\">\r\n          <input type=\"submit\" value=\"submit\"/>\r\n          </div>\r\n        </form>\r\n        </div>\r\n     </div>\r\n    </>\r\n    )\r\n  }\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n      status: state.credential\r\n   }\r\n  }\r\nexport default connect(mapStateToProps, {loginUser})(Login);","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nfunction PrivateRoute ({component: Component, authed, ...rest}) {\r\n    return (\r\n      <Route\r\n        {...rest}\r\n        render={(props) => authed === true\r\n          ? <Component {...props} />\r\n          : <Redirect to={{pathname: '/', state: {from: props.location}}} />}\r\n      />\r\n    )\r\n  }\r\n  export default PrivateRoute;","import React, { Component } from 'react';\r\nimport {Route, BrowserRouter as Router, withRouter, Switch } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport './index.css';\r\nimport Home from './components/home/Home';\r\nimport Login from './components/login/Login';\r\nimport PrivateRoute from './routing/PrivateRoute';\r\nimport {loginUser} from './actions/auth';\r\nfunction App(props){\r\n    const { isLoggedIn } = props.status;\r\n     return (\r\n        <>\r\n          <Switch>\r\n            <Route exact path=\"/\" component={Login} />   \r\n            <PrivateRoute authed={isLoggedIn} path='/home' component={Home} />\r\n          </Switch>\r\n        </>\r\n    )\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n      status: state.credential\r\n    }\r\n  }\r\nexport default connect(\r\n    mapStateToProps, \r\n    {loginUser})\r\n    (withRouter(App)\r\n);","import {\r\n  LOGIN, LOGOUT\r\n} from \"../actions/types\";\r\nlet initialState = {\r\n  isLoggedIn: false, \r\n};\r\nexport default function rootReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case LOGIN:\r\n      return {\r\n        ...state,\r\n        isLoggedIn: action.payload\r\n      };\r\n    case LOGOUT:\r\n      return {\r\n        ...state,\r\n        isLoggedIn: action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport authReducer from \"./authReducer\";\r\nexport default combineReducers({\r\n  credential: authReducer\r\n});\r\n","import { createStore } from \"redux\";\r\nimport reducer from \"./reducers\";\r\nconst store = createStore(reducer);\r\n\r\nexport default store;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {BrowserRouter as Router } from 'react-router-dom';\nimport { Provider } from \"react-redux\";\nimport store from './store';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n    <Router>\n     <App />\n    </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\nreportWebVitals();\n"],"sourceRoot":""}